<!DOCTYPE html>
<html><html><head><style type="text/css">body{margin:0 0 0 560px;padding:60px 48px}div{box-sizing:border-box}pre{display:block;margin:0;letter-spacing:.8px}.scroll-container{flex-grow:1;overflow-y:auto}a,a:active,a:hover,a:visited{display:block;text-decoration:none}a.inline-link{display:inline-block}a.inline-link:hover{text-decoration:underline}.button{font-size:13px;letter-spacing:.5px;line-height:18px;padding:3px 12px;white-space:inherit}.button:hover{background-color:#f0f0f0}.button--active{background-color:#f3f3f3}.button--active:hover{background-color:#f0f0f0}.text--xs{font-size:10px;line-height:24px;text-transform:uppercase}.text--s{font-size:12px;line-height:18px}.text--m{font-size:13px;line-height:18px}.text--l{font-size:14px;line-height:18px}.text--semi-bold{font-weight:500}.text--bold{font-weight:600}.color--basic{color:#303030}.color--primary{color:#0088cc}.color--secondary{color:#8800cc}.color--muted{color:#606060}.color--warning{color:#cc00aa}.collapsible-wrapper{display:flex;flex-direction:column}.collapsible-button{cursor:pointer;position:relative;user-select:none;width:fit-content}.collapsible-button:hover{color:#888}.collapsible-button::after{align-items:center;content:'▼';display:flex;font-size:8px;justify-content:center;position:absolute;height:24px;right:-24px;top:0;width:24px}.collapsible-wrapper[data-expanded="true"] .collapsible-button::after{content:'▲'}.collapsible-wrapper .content-block--box{display:none}.collapsible-wrapper[data-expanded="true"] .content-block--box{display:block}#top-bar{background-color:#ffffff;border-bottom:1px solid #e0e0e0;display:flex;gap:6px;height:60px;left:0;padding-left:18px;position:fixed;top:0;width:100%}#top-bar--library-uri{font-size:12px;line-height:60px;padding:0 18px;position:absolute;right:0;top:0}#top-bar--library-uri:hover{background-color:#f0f0f0}#top-bar--library-name{font-size:18px;line-height:60px;text-transform:uppercase}#top-bar--author-name{font-size:12px}#top-bar--library-version{font-size:12px;line-height:18px;margin-top:12px}#bottom-bar{background-color:white;border-top:1px solid #e0e0e0;bottom:0;display:flex;justify-content:right;left:0;position:fixed;width:100%}#bottom-bar--credits-link{color:#aa55bb;font-size:12px;letter-spacing:.8px;line-height:42px;padding:0 18px}#bottom-bar--credits-link:hover{background-color:#f0f0f0}#primary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:0;padding:12px 0 54px 0;position:fixed;top:60px;width:280px}#secondary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:280px;padding:12px 0 54px 0;position:fixed;top:60px;width:280px}#primary-list,#secondary-list{z-index:9999}#primary-list .text--xs,#secondary-list .text--xs{padding-left:12px}.primary-list--container,.secondary-list--container{margin-bottom:12px}#namespace-header--title{font-size:18px;line-height:24px;margin-top:24px}#declarations{display:flex;flex-direction:column}.declaration--wrapper{padding-top:96px}.declaration--name{border-bottom:1px solid #e0e0e0;font-size:18px;line-height:18px;padding-bottom:8px;margin-bottom:12px}.tutorial--wrapper{padding-top:96px}.tutorial--name{border-bottom:1px solid #e0e0e0;font-size:18px;line-height:18px;padding-bottom:8px;margin-bottom:12px}.content-blocks{display:flex;flex-direction:column}.content-block--separator{height:12px}.content-block--label{display:flex;gap:4px;line-height:24px}.content-block--box{background-color:#fafafa;color:#333;line-height:16px;margin:0;padding:12px 8px}.content-block--preview-image{border:1px solid #dedede;display:block;max-height:480px;max-width:640px;min-height:48px;min-width:64px}</style><script type="text/javascript">function toggleCollapsible(collapsibleId){collapsible=document.getElementById(collapsibleId);if(collapsible.dataset.expanded==='true'){collapsible.dataset.expanded='false';}else{collapsible.dataset.expanded='true';}}</script></head><body><div id="primary-list"><div class="scroll-container"><div class="primary-list--container"><pre class="text--xs color--muted">ClojureScript namespaces</pre><a href="https://localhost:3000/playground/cljs/pretty-forms/api.html"><pre class="button color--primary button--active">pretty-forms.api</pre></a></div></div></div><div id="secondary-list"><div class="scroll-container"><div class="secondary-list--container"><pre class="text--xs color--muted">Declarations</pre><a href="#form-errors"><pre class="button color--primary">FORM-ERRORS</pre></a><a href="#form-inputs"><pre class="button color--primary">FORM-INPUTS</pre></a><a href="#autovalidate-form"><pre class="button color--primary">autovalidate-form!</pre></a><a href="#autovalidate-input"><pre class="button color--primary">autovalidate-input!</pre></a><a href="#dereg-form-input"><pre class="button color--primary">dereg-form-input!</pre></a><a href="#get-form-inputs"><pre class="button color--primary">get-form-inputs</pre></a><a href="#get-input-invalid-message"><pre class="button color--primary">get-input-invalid-message</pre></a><a href="#get-input-validation-result"><pre class="button color--primary">get-input-validation-result</pre></a><a href="#get-input-validators"><pre class="button color--primary">get-input-validators</pre></a><a href="#get-input-value"><pre class="button color--primary">get-input-value</pre></a><a href="#input-changed"><pre class="button color--primary">input-changed</pre></a><a href="#input-left"><pre class="button color--primary">input-left</pre></a><a href="#reg-form-input"><pre class="button color--primary">reg-form-input!</pre></a><a href="#validate-form"><pre class="button color--primary">validate-form!</pre></a><a href="#validate-input"><pre class="button color--primary">validate-input!</pre></a></div></div></div><div id="namespace-header"><pre class="text--bold" id="namespace-header--title">pretty-forms.api</pre><pre class="text--xs color--muted">ClojureScript namespace</pre></div><div id="tutorials--wrapper"><div id="tutorials"></div></div><div id="declarations--wrapper"><div id="declarations"><div class="declaration--wrapper" id="form-inputs"><pre class="text--xs color--muted">Declaration</pre><pre class="declaration--name color--primary text--bold">FORM-INPUTS</pre><div class="content-blocks"><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Description</pre></div><pre class="text--m color--basic">Stored props of registered inputs.</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Atom</pre><pre class="text-s color--default"></pre><pre class="text--xs color--muted">map</pre><pre class="text--xs color--muted"></pre></div><pre class="text--s color--muted">{:my-input (map)<br>  {:form-id (keyword)<br>   :get-value-f (function)<br>    Must return the actual value of the input.<br>   :validators (maps in vector)<br>    [{:f (function)<br>       Takes the actual value of the input as parameter.<br>      :invalid-message (metamorphic-content)(opt)}]<br>   :validate-when-change? (boolean)(opt)<br>   :validate-when-leave? (boolean)(opt)<br>   :value-path (Re-Frame path vector)}}</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(deref FORM-INPUTS)<br>=&gt;<br>{:my-input {:form-id     :my-form<br>            :get-value-f #(deref MY-ATOM)<br>            :validators  [{:f #(-&gt; % empty? not) :invalid-message "Please fill out this field!"}]}</pre></div></div><div class="content-block--separator"></div><div class="collapsible-wrapper" data-expanded="false" id="form-inputs-source-code"><pre class="collapsible-button text--xs text--semi-bold" onClick="toggleCollapsible(&apos;form-inputs-source-code&apos;)">Source Code</pre><pre class="text-s content-block--box">(def FORM-INPUTS (ratom {}))</pre></div></div><div class="declaration--wrapper" id="form-errors"><pre class="text--xs color--muted">Declaration</pre><pre class="declaration--name color--primary text--bold">FORM-ERRORS</pre><div class="content-blocks"><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Description</pre></div><pre class="text--m color--basic">Stored error messages of failed input validations.</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Atom</pre><pre class="text-s color--default"></pre><pre class="text--xs color--muted">map</pre><pre class="text--xs color--muted"></pre></div><pre class="text--s color--muted">{:my-input (metamorphic-content)(opt)}</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(deref FORM-ERRORS)<br>=&gt;<br>{:my-input "Please fill out this field!"}</pre></div></div><div class="content-block--separator"></div><div class="collapsible-wrapper" data-expanded="false" id="form-errors-source-code"><pre class="collapsible-button text--xs text--semi-bold" onClick="toggleCollapsible(&apos;form-errors-source-code&apos;)">Source Code</pre><pre class="text-s content-block--box">(def FORM-ERRORS (ratom {}))</pre></div></div><div class="declaration--wrapper" id="get-input-value"><pre class="text--xs color--muted">Declaration</pre><pre class="declaration--name color--primary text--bold">get-input-value</pre><div class="content-blocks"><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Description</pre></div><pre class="text--m color--basic">Returns the actual value of the form input registered with the given input ID.</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Param</pre><pre class="text-s color--default">input-id</pre><pre class="text--xs color--muted">keyword</pre><pre class="text--xs color--muted">required</pre></div></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Return</pre><pre class="text--xs color--muted">*</pre><pre class="text--xs color--muted"></pre></div></div></div><div class="content-block--separator"></div><div class="collapsible-wrapper" data-expanded="false" id="get-input-value-source-code"><pre class="collapsible-button text--xs text--semi-bold" onClick="toggleCollapsible(&apos;get-input-value-source-code&apos;)">Source Code</pre><pre class="text-s content-block--box">(defn get-input-value<br>  [input-id]<br>  (let [get-value-f (get-in @state/FORM-INPUTS [input-id :get-value-f])]<br>       (get-value-f)))</pre></div></div><div class="declaration--wrapper" id="get-input-validators"><pre class="text--xs color--muted">Declaration</pre><pre class="declaration--name color--primary text--bold">get-input-validators</pre><div class="content-blocks"><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Description</pre></div><pre class="text--m color--basic">Returns the validators of the form input registered with the given input ID.</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Param</pre><pre class="text-s color--default">input-id</pre><pre class="text--xs color--muted">keyword</pre><pre class="text--xs color--muted">required</pre></div></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Return</pre><pre class="text--xs color--muted">maps in vector</pre><pre class="text--xs color--muted"></pre></div></div></div><div class="content-block--separator"></div><div class="collapsible-wrapper" data-expanded="false" id="get-input-validators-source-code"><pre class="collapsible-button text--xs text--semi-bold" onClick="toggleCollapsible(&apos;get-input-validators-source-code&apos;)">Source Code</pre><pre class="text-s content-block--box">(defn get-input-validators<br>  [input-id]<br>  (get-in @state/FORM-INPUTS [input-id :validators]))</pre></div></div><div class="declaration--wrapper" id="get-input-invalid-message"><pre class="text--xs color--muted">Declaration</pre><pre class="declaration--name color--primary text--bold">get-input-invalid-message</pre><div class="content-blocks"><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Description</pre></div><pre class="text--m color--basic">Returns the stored invalid message (if any) of the input registered with the given input ID.</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Param</pre><pre class="text-s color--default">input-id</pre><pre class="text--xs color--muted">keyword</pre><pre class="text--xs color--muted">required</pre></div></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(get-input-invalid-message :my-input)<br>=&gt;<br>"Please fill out this field!"</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Return</pre><pre class="text--xs color--muted">metamorphic-content</pre><pre class="text--xs color--muted"></pre></div></div></div><div class="content-block--separator"></div><div class="collapsible-wrapper" data-expanded="false" id="get-input-invalid-message-source-code"><pre class="collapsible-button text--xs text--semi-bold" onClick="toggleCollapsible(&apos;get-input-invalid-message-source-code&apos;)">Source Code</pre><pre class="text-s content-block--box">(defn get-input-invalid-message<br>  [input-id]<br>  (input-id @state/FORM-ERRORS))</pre></div></div><div class="declaration--wrapper" id="get-form-inputs"><pre class="text--xs color--muted">Declaration</pre><pre class="declaration--name color--primary text--bold">get-form-inputs</pre><div class="content-blocks"><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Description</pre></div><pre class="text--m color--basic">Returns the IDs of inputs registered with the given form ID.</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Param</pre><pre class="text-s color--default">form-id</pre><pre class="text--xs color--muted">keyword</pre><pre class="text--xs color--muted">required</pre></div></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(get-form-inputs :my-form)<br>=&gt;<br>[:my-input :another-input]</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Return</pre><pre class="text--xs color--muted">keywords in vector</pre><pre class="text--xs color--muted"></pre></div></div></div><div class="content-block--separator"></div><div class="collapsible-wrapper" data-expanded="false" id="get-form-inputs-source-code"><pre class="collapsible-button text--xs text--semi-bold" onClick="toggleCollapsible(&apos;get-form-inputs-source-code&apos;)">Source Code</pre><pre class="text-s content-block--box">(defn get-form-inputs<br>  [form-id]<br>  (letfn [(f0 [%] (-> % :form-id (= form-id)))]<br>         (map/filter-values @state/FORM-INPUTS f0)))</pre></div></div><div class="declaration--wrapper" id="get-input-validation-result"><pre class="text--xs color--muted">Declaration</pre><pre class="declaration--name color--primary text--bold">get-input-validation-result</pre><div class="content-blocks"><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Description</pre></div><pre class="text--m color--basic">- Applies the validators of the input registered with the given input ID and returns the result of the validation.<br>- Stops applying further validators in case of one failed, the result will contain the invalid message of the failed validator.</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Param</pre><pre class="text-s color--default">input-id</pre><pre class="text--xs color--muted">keyword</pre><pre class="text--xs color--muted">required</pre></div></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(get-input-validation-result :my-input)<br>=&gt;<br>{:input-id :my-input :input-value "..." :input-valid? false :invalid-message "Please fill out this field!"}</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(get-input-validation-result :my-input)<br>=&gt;<br>{:input-id :my-input :input-value "..." :input-valid? true}</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Return</pre><pre class="text--xs color--muted">map</pre><pre class="text--xs color--muted"></pre></div><pre class="text--s color--muted">{:input-id (keyword)<br> :input-valid? (boolean)<br> :input-value (*)<br> :invalid-message (metamorphic-content)}</pre></div></div><div class="content-block--separator"></div><div class="collapsible-wrapper" data-expanded="false" id="get-input-validation-result-source-code"><pre class="collapsible-button text--xs text--semi-bold" onClick="toggleCollapsible(&apos;get-input-validation-result-source-code&apos;)">Source Code</pre><pre class="text-s content-block--box">(defn get-input-validation-result<br>  [input-id]<br>  (let [input-value      (get-input-value      input-id)<br>        input-validators (get-input-validators input-id)]<br>       (letfn [(f0 [{:keys [f invalid-message]}]<br>                   (if-not (f input-value)<br>                           (or invalid-message :invalid-input-value)))]<br>              (if-let [invalid-message (vector/first-result input-validators)]<br>                      {:input-id input-id :input-value input-value :input-valid? false :invalid-message invalid-message}<br>                      {:input-id input-id :input-value input-value :input-valid? true}))))</pre></div></div><div class="declaration--wrapper" id="reg-form-input"><pre class="text--xs color--muted">Declaration</pre><pre class="declaration--name color--primary text--bold">reg-form-input!</pre><div class="content-blocks"><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Description</pre></div><pre class="text--m color--basic">Registers an input as a form input and stores its validator functions in order to make it<br>validable by the form validator / input validator events.</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Param</pre><pre class="text-s color--default">input-id</pre><pre class="text--xs color--muted">keyword</pre><pre class="text--xs color--muted">required</pre></div></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Param</pre><pre class="text-s color--default">input-props</pre><pre class="text--xs color--muted">map</pre><pre class="text--xs color--muted">required</pre></div><pre class="text--s color--muted">{:form-id (keyword)(opt)<br>  Makes the inputs validable in groups by their form ID.<br> :validate-when-change? (boolean)(opt)<br> :validate-when-leave? (boolean)(opt)<br> :validators (maps in vector)<br>  [{:f (function)<br>     Takes the actual value of the input as parameter.<br>    :invalid-message (metamorphic-content)(opt)}]}</pre></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Param</pre><pre class="text-s color--default">get-value-f</pre><pre class="text--xs color--muted">function</pre><pre class="text--xs color--muted">required</pre></div><pre class="text--s color--muted">Must return the actual value of the input.</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(reg-form-input! :my-input {...} #(...))</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(ns my-namespace (:require [re-frame.core :as r]))<br>(r/dispatch [:pretty-forms/reg-form-input! :my-input {...} #(...)])</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(reg-form-input! :my-input<br>                 {:validators [{:f #(-&gt; % empty? not) :invalid-message "Please fill out this field!"}]}<br>                 #(deref MY-ATOM))</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(defn my-ui<br>  []<br>  [:&lt;&gt; [pretty-elements/text-field :my-text-field {...}]])<br>(reg-form-input! :my-text-field<br>                 {:validators [{:f #(-&gt; % empty? not) :invalid-message "Please fill out this field!"}]}<br>                 #(pretty-elements.plain-field.env/get-field-content :my-text-field)])</pre></div></div><div class="content-block--separator"></div><div class="collapsible-wrapper" data-expanded="false" id="reg-form-input-source-code"><pre class="collapsible-button text--xs text--semi-bold" onClick="toggleCollapsible(&apos;reg-form-input-source-code&apos;)">Source Code</pre><pre class="text-s content-block--box">(defn reg-form-input!<br>  [input-id input-props get-value-f]<br>  (let [validation-props (-> input-props (select-keys [:form-id :validate-when-change? :validate-when-leave? :validators])<br>                                         (assoc :get-value-f get-value-f))]<br>       (swap! state/FORM-INPUTS assoc input-id validation-props)))</pre></div></div><div class="declaration--wrapper" id="dereg-form-input"><pre class="text--xs color--muted">Declaration</pre><pre class="declaration--name color--primary text--bold">dereg-form-input!</pre><div class="content-blocks"><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Description</pre></div><pre class="text--m color--basic">Removes a specific input from the form handler.</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Param</pre><pre class="text-s color--default">input-id</pre><pre class="text--xs color--muted">keyword</pre><pre class="text--xs color--muted">required</pre></div></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(dereg-form-input! :my-input)</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(ns my-namespace (:require [re-frame.core :as r]))<br>(r/dispatch [:pretty-forms/dereg-form-input! :my-input])</pre></div></div><div class="content-block--separator"></div><div class="collapsible-wrapper" data-expanded="false" id="dereg-form-input-source-code"><pre class="collapsible-button text--xs text--semi-bold" onClick="toggleCollapsible(&apos;dereg-form-input-source-code&apos;)">Source Code</pre><pre class="text-s content-block--box">(defn dereg-form-input!<br>  [input-id]<br>  (swap! state/FORM-INPUTS dissoc input-id)<br>  (swap! state/FORM-ERRORS dissoc input-id))</pre></div></div><div class="declaration--wrapper" id="autovalidate-input"><pre class="text--xs color--muted">Declaration</pre><pre class="declaration--name color--primary text--bold">autovalidate-input!</pre><div class="content-blocks"><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Description</pre></div><pre class="text--m color--basic">Sets the ':validate-when-change?' toggle to TRUE of the input registered with the given input ID,<br>to ensure that the input is getting validated when its value changes.</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Param</pre><pre class="text-s color--default">input-id</pre><pre class="text--xs color--muted">keyword</pre><pre class="text--xs color--muted">required</pre></div></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(autovalidate-input! :my-input)</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(ns my-namespace (:require [re-frame.core :as r]))<br>(r/dispatch [:pretty-forms/autovalidate-input! :my-input])</pre></div></div><div class="content-block--separator"></div><div class="collapsible-wrapper" data-expanded="false" id="autovalidate-input-source-code"><pre class="collapsible-button text--xs text--semi-bold" onClick="toggleCollapsible(&apos;autovalidate-input-source-code&apos;)">Source Code</pre><pre class="text-s content-block--box">(defn autovalidate-input!<br>  [input-id]<br>  (swap! state/FORM-INPUTS assoc-in [input-id :validate-when-change?] true))</pre></div></div><div class="declaration--wrapper" id="autovalidate-form"><pre class="text--xs color--muted">Declaration</pre><pre class="declaration--name color--primary text--bold">autovalidate-form!</pre><div class="content-blocks"><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Description</pre></div><pre class="text--m color--basic">Sets the ':validate-when-change?' toggle to TRUE of all inputs registered with the given form ID,<br>to ensure that the inputs are getting validated when their value changes.</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Param</pre><pre class="text-s color--default">form-id</pre><pre class="text--xs color--muted">keyword</pre><pre class="text--xs color--muted">required</pre></div></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(autovalidate-form! :my-form)</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(ns my-namespace (:require [re-frame.core :as r]))<br>(r/dispatch [:pretty-forms/autovalidate-form! :my-form])</pre></div></div><div class="content-block--separator"></div><div class="collapsible-wrapper" data-expanded="false" id="autovalidate-form-source-code"><pre class="collapsible-button text--xs text--semi-bold" onClick="toggleCollapsible(&apos;autovalidate-form-source-code&apos;)">Source Code</pre><pre class="text-s content-block--box">(defn autovalidate-form!<br>  [form-id]<br>  (let [form-inputs (env/get-form-inputs form-id)]<br>       (doseq [input-id form-inputs]<br>              (autovalidate-input! input-id))))</pre></div></div><div class="declaration--wrapper" id="validate-input"><pre class="text--xs color--muted">Declaration</pre><pre class="declaration--name color--primary text--bold">validate-input!</pre><div class="content-blocks"><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Description</pre></div><pre class="text--m color--basic">- Applies the validators of the input registered with the given input ID ...<br>  ... and in case of ANY validator failed, it ...<br>      ... stores the 'invalid-message' value of the first failed validator in the 'FORM-ERRORS' atom,<br>      ... dispatches the 'on-invalid' event (if any),<br>  ... and in case of NO validator failed, it ...<br>      ... clears the previously stored 'invalid-message' value (if any) from the 'FORM-ERRORS' atom,<br>      ... dispatches the 'on-valid' event (if any),<br>- Returns TRUE in case of no validator failed, FALSE otherwise.</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Param</pre><pre class="text-s color--default">input-id</pre><pre class="text--xs color--muted">keyword</pre><pre class="text--xs color--muted">required</pre></div></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Param</pre><pre class="text-s color--default">validation-props</pre><pre class="text--xs color--muted">keyword</pre><pre class="text--xs color--muted">required</pre></div><pre class="text--s color--muted">{:on-invalid (function or Re-Frame metamorphic-event)(opt)<br>  Takes the input value and the invalid message as parameters.<br> :on-valid (function or Re-Frame metamorphic-event)(opt)<br>  Takes the input value as parameter.}</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(validate-input! :my-input {...})</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(ns my-namespace (:require [re-frame.core :as r]))<br>(r/dispatch [:pretty-forms/validate-input! :my-input {...}])</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Return</pre><pre class="text--xs color--muted">boolean</pre><pre class="text--xs color--muted"></pre></div></div></div><div class="content-block--separator"></div><div class="collapsible-wrapper" data-expanded="false" id="validate-input-source-code"><pre class="collapsible-button text--xs text--semi-bold" onClick="toggleCollapsible(&apos;validate-input-source-code&apos;)">Source Code</pre><pre class="text-s content-block--box">(defn validate-input!<br>  [input-id {:keys [on-invalid on-valid]}]<br>  (autovalidate-input! input-id)<br><br>  (let [validation-result (env/get-input-validation-result input-id)]<br>       (letfn [(f0 [_] (swap! state/FORM-ERRORS dissoc input-id))<br>               (f1 [%] (swap! state/FORM-ERRORS assoc  input-id (:invalid-message %)))<br>               (f2 [%] (pretty-build-kit/dispatch-event-handler! on-valid   (:input-value %)))<br>               (f3 [%] (pretty-build-kit/dispatch-event-handler! on-invalid (:input-value %) (:invalid-message %)))]<br>              (when (-> validation-result :input-valid?)<br>                    (-> validation-result f0)<br>                    (-> validation-result f2))<br>              (when (-> validation-result :input-valid? not)<br>                    (-> validation-result f1)<br>                    (-> validation-result f3))<br>              (-> validation-result :input-valid?))))</pre></div></div><div class="declaration--wrapper" id="validate-form"><pre class="text--xs color--muted">Declaration</pre><pre class="declaration--name color--primary text--bold">validate-form!</pre><div class="content-blocks"><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Description</pre></div><pre class="text--m color--basic">- Applies the validators of all inputs registered with the given form ID, and ...<br>  ... it stores the 'invalid-message' values of the INVALID inputs in the 'FORM-ERRORS' atom,<br>  ... it clears the previously stored 'invalid-message' values of the VALID inputs from the 'FORM-ERRORS' atom.<br>  ... and in case of ALL inputs are valid, it dispatches the 'on-valid' event.<br>  ... and in case of ANY input is invalid, it dispatches the 'on-invalid' event.<br>- Returns TRUE in case of no validator failed, FALSE otherwise.</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Param</pre><pre class="text-s color--default">form-id</pre><pre class="text--xs color--muted">keyword</pre><pre class="text--xs color--muted">required</pre></div></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Param</pre><pre class="text-s color--default">validation-props</pre><pre class="text--xs color--muted">keyword</pre><pre class="text--xs color--muted">required</pre></div><pre class="text--s color--muted">{:on-invalid (function or Re-Frame metamorphic-event)(opt)<br> :on-valid (function or Re-Frame metamorphic-event)(opt)}</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(validate-form! :my-form {...})</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(ns my-namespace (:require [re-frame.core :as r]))<br>(r/dispatch [:pretty-forms/validate-form! :my-form {...}])</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Return</pre><pre class="text--xs color--muted">boolean</pre><pre class="text--xs color--muted"></pre></div></div></div><div class="content-block--separator"></div><div class="collapsible-wrapper" data-expanded="false" id="validate-form-source-code"><pre class="collapsible-button text--xs text--semi-bold" onClick="toggleCollapsible(&apos;validate-form-source-code&apos;)">Source Code</pre><pre class="text-s content-block--box">(defn validate-form!<br>  [form-id {:keys [on-invalid on-valid]}]<br>  (let [form-inputs (env/get-form-inputs form-id)]<br>       (letfn [(f0 [validation-results input-id]<br>                   (conj validation-results (validate-input! input-id {})))]<br>              (let [validation-results (reduce f0 [] form-inputs)]<br>                   (letfn [(f0 [_] (pretty-build-kit/dispatch-event-handler! on-valid))<br>                           (f1 [_] (pretty-build-kit/dispatch-event-handler! on-invalid))]<br>                          (if (-> validation-results (vector/all-items-match? :input-valid?))<br>                              (-> validation-results f0)<br>                              (-> validation-results f1)))<br>                   (-> validation-results (vector/all-items-match? :input-valid?))))))</pre></div></div><div class="declaration--wrapper" id="input-changed"><pre class="text--xs color--muted">Declaration</pre><pre class="declaration--name color--primary text--bold">input-changed</pre><div class="content-blocks"><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Description</pre></div><pre class="text--m color--basic">Calls the 'validate-input!' function if the ':validate-when-change?' toggle of the input is TRUE.</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Param</pre><pre class="text-s color--default">input-id</pre><pre class="text--xs color--muted">keyword</pre><pre class="text--xs color--muted">required</pre></div></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Param</pre><pre class="text-s color--default">validation-props</pre><pre class="text--xs color--muted">keyword</pre><pre class="text--xs color--muted">required</pre></div><pre class="text--s color--muted">{:on-invalid (function or Re-Frame metamorphic-event)(opt)<br> :on-valid (function or Re-Frame metamorphic-event)(opt)}</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(input-changed :my-input {...})</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(ns my-namespace (:require [re-frame.core :as r]))<br>(r/dispatch [:pretty-forms/input-changed :my-input {...}])</pre></div></div><div class="content-block--separator"></div><div class="collapsible-wrapper" data-expanded="false" id="input-changed-source-code"><pre class="collapsible-button text--xs text--semi-bold" onClick="toggleCollapsible(&apos;input-changed-source-code&apos;)">Source Code</pre><pre class="text-s content-block--box">(defn input-changed<br>  [input-id validation-props]<br>  (if (-> @state/FORM-INPUTS input-id :validate-when-change?)<br>      (-> input-id (validate-input! validation-props))))</pre></div></div><div class="declaration--wrapper" id="input-left"><pre class="text--xs color--muted">Declaration</pre><pre class="declaration--name color--primary text--bold">input-left</pre><div class="content-blocks"><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Note</pre></div><pre class="text--m color--muted">This function is also registered as a Re-Frame effect event and a Re-Frame side-effect event:<br>[:pretty-forms/input-left ...]</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Description</pre></div><pre class="text--m color--basic">Calls the 'validate-input!' function if the ':validate-when-leave?' toggle of the input is TRUE.</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Param</pre><pre class="text-s color--default">input-id</pre><pre class="text--xs color--muted">keyword</pre><pre class="text--xs color--muted">required</pre></div></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Param</pre><pre class="text-s color--default">validation-props</pre><pre class="text--xs color--muted">keyword</pre><pre class="text--xs color--muted">required</pre></div><pre class="text--s color--muted">{:on-invalid (function or Re-Frame metamorphic-event)(opt)<br> :on-valid (function or Re-Frame metamorphic-event)(opt)}</pre></div><div class="content-block--separator"></div><div class="content-block"><div class="content-block--label"><pre class="text--xs color--muted">Usage</pre></div><pre class="content-block--box text--s">(input-left :my-input {...})</pre></div></div><div class="content-block--separator"></div><div class="collapsible-wrapper" data-expanded="false" id="input-left-source-code"><pre class="collapsible-button text--xs text--semi-bold" onClick="toggleCollapsible(&apos;input-left-source-code&apos;)">Source Code</pre><pre class="text-s content-block--box">(defn input-left<br>  [input-id validation-props]<br>  (if (-> @state/FORM-INPUTS input-id :validate-when-leave?)<br>      (-> input-id (validate-input! validation-props))))</pre></div></div></div></div><div id="top-bar"><pre class="text--bold" id="top-bar--library-name">pretty-ui</pre><pre class="color--muted" id="top-bar--library-version">1.0.0.0</pre><a href="https://github.com/pretty-project/pretty-ui" id="top-bar--library-uri"><pre class="color--primary">github.com/pretty-project/pretty-ui</pre></a></div><div id="bottom-bar"><a href="https://github.com/mt-devtools/clj-source-code-documentation" id="bottom-bar--credits-link"><pre>github.com/mt-devtools/clj-source-code-documentation</pre></a></div></body></html></html>
